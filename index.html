<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>drum-kit</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="main" id="main">
    </div>
    <audio src="sounds/clap.wav" data-key="a"></audio>
    <audio src="sounds/hihat.wav" data-key="s"></audio>
    <audio src="sounds/kick.wav" data-key="d"></audio>
    <audio src="sounds/openhat.wav" data-key="f"></audio>
    <audio src="sounds/boom.wav" data-key="g"></audio>
    <audio src="sounds/ride.wav" data-key="h"></audio>
    <audio src="sounds/snare.wav" data-key="j"></audio>
    <audio src="sounds/tom.wav" data-key="k"></audio>
    <audio src="sounds/tink.wav" data-key="l"></audio>
    <script>
       let keys=['a','s','d','f','g','h','j','k','l']
       let hash={ a:'clap',s:'hihat',d:'kick',f:'openhat',g:'boom',h:'ride',j:'snake',k:'tom',l:'tink'}
       index=0
       while(index<keys['length']){// 0 1 2
         divKbd=document.createElement('div')
         divKbd.classList.add('key')
         main.appendChild(divKbd)
         divKbd.setAttribute("data-key", keys[index])
            kbdVar=document.createElement('kbd')
            kbdVar.textContent=keys[index]       
            divKbd.appendChild(kbdVar)
            soundName=document.createElement('span')
            soundName.textContent=hash[keys[index]]
            divKbd.appendChild(soundName)
            index+=1
       }
       //play music and add animation
       function playMusic(e){
         const audio=document.querySelector(`audio[data-key="${e.key}"]`)
         const key=document.querySelector(`.key[data-key="${e.key}"`)
           if(!audio) return;
           audio.currentTime=0
           audio.play()
           key.classList.add('playing')
       }
       //stop animating when keyup
       function removePlaying(e){
        const key=document.querySelector(`.key[data-key="${e.key}"`)
          key.classList.remove('playing')
       }
       //listen to keydown event and keyup event
     window.addEventListener('keydown',playMusic)
    window.addEventListener('keyup',removePlaying)
    </script>
</body>
</html>
